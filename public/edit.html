<!DOCTYPE html>
<html>
  <head>
    <title>CollidingObject: Markdown Editor</title>
    <link rel="stylesheet" type="text/css" href="/main.css"></link>
    <link href="/css/bootstrap.css" rel="stylesheet"></link>
    <link href="/footer.css" rel="stylesheet"></link>
    <style>
      #preview-container, #text-input-container {
        float:left;
      }
    </style>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="markdown.min.js"></script>
    <script src="jquery.cookie.js"></script>
    <script>
      $(document).ready(function() {
        $("#text-input").bind("input", function() {
          var content = $(this).val();
          localStorage.setItem('edit_content', content);
          var saved = localStorage.getItem('edit_content');
          if (saved != content) {
            throw new Error('saved is ' + saved);
          }
          $("#preview").html(markdown.toHTML(saved));
        });


        $("#text-input").val(localStorage.getItem('edit_content') || "Type **Markdown** here");
        $("#text-input").trigger("input");
      });
    </script>
  </head>
  <body style="height: 100%">
    <div class="container" style="height: 100%">
      <div class="row" style="height: 100%">
        <div id="text-input-container" class="col-md-6" style="height: 100%">
            <textarea id="text-input" style="width: 100%; min-width: 100%; min-height: 100%; height: 100%; font-family: Menlo, Monaco, Consolas, 'Courier New', monospace"></textarea>
        </div>
        <div id="preview-container" class="col-md-6" style="height: 100%">
          <span id="preview" class="wordwrap" style="overflow-y: scroll; max-height: 100%; height: 100%; display:inline-block; vertical-align:top"></span>
        </div>
      </div>
    </div>

  </body>
</html>
